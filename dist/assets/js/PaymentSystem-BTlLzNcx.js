import{j as e}from"./index-D2UFHVmt.js";import{r}from"./react-vendor-D92mXBJ3.js";import{a5 as t,X as a,h as l,L as s}from"./ui-vendor-CXUW7VoX.js";import"./seo-vendor-CXpkBIGe.js";import"./query-vendor-BU1JGbmk.js";import"./i18n-vendor-ClAPDSrk.js";import"./toast-vendor-D26nLpGL.js";import"./supabase-vendor-BBsrQuQX.js";const d=({isOpen:d,onClose:n,amount:c,onSuccess:i})=>{const[o,m]=r.useState("card"),[p,x]=r.useState(!1),[u,h]=r.useState({cardNumber:"",expiryDate:"",cvv:"",cardName:"",email:"",saveCard:!1}),b=e=>{const r=e.replace(/\s+/g,"").replace(/[^0-9]/gi,""),t=r.match(/\d{4,16}/g),a=t&&t[0]||"",l=[];for(let s=0,d=a.length;d>s;s+=4)l.push(a.substring(s,s+4));return l.length?l.join(" "):r},g=e=>{const r=e.replace(/\s+/g,"").replace(/[^0-9]/gi,"");return 2>r.length?r:r.substring(0,2)+"/"+r.substring(2,4)};return d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40",onClick:n}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-gray-900/95 backdrop-blur-xl rounded-2xl border border-gray-700/50 w-full max-w-md overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700/50",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(t,{className:"w-6 h-6 text-purple-400"}),e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Secure Payment"})]}),e.jsx("button",{onClick:n,className:"p-2 text-gray-400 hover:text-white transition-colors",children:e.jsx(a,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6 bg-gradient-to-r from-purple-900/30 to-pink-900/30 border-b border-gray-700/50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Amount to Pay"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["$",c.toFixed(2)]})]})}),e.jsx("div",{className:"p-6 border-b border-gray-700/50",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>m("card"),className:"flex-1 p-3 rounded-lg border transition-all "+("card"===o?"border-purple-500 bg-purple-600/20 text-purple-400":"border-gray-600 text-gray-400 hover:border-gray-500"),children:[e.jsx(t,{className:"w-5 h-5 mx-auto mb-1"}),e.jsx("div",{className:"text-xs",children:"Card"})]}),e.jsxs("button",{onClick:()=>m("paypal"),className:"flex-1 p-3 rounded-lg border transition-all "+("paypal"===o?"border-purple-500 bg-purple-600/20 text-purple-400":"border-gray-600 text-gray-400 hover:border-gray-500"),children:[e.jsx("div",{className:"w-5 h-5 mx-auto mb-1 bg-blue-600 rounded text-white text-xs flex items-center justify-center font-bold",children:"PP"}),e.jsx("div",{className:"text-xs",children:"PayPal"})]}),e.jsxs("button",{onClick:()=>m("crypto"),className:"flex-1 p-3 rounded-lg border transition-all "+("crypto"===o?"border-purple-500 bg-purple-600/20 text-purple-400":"border-gray-600 text-gray-400 hover:border-gray-500"),children:[e.jsx("div",{className:"w-5 h-5 mx-auto mb-1 bg-orange-500 rounded text-white text-xs flex items-center justify-center font-bold",children:"₿"}),e.jsx("div",{className:"text-xs",children:"Crypto"})]})]})}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),x(!0),setTimeout(()=>{x(!1),i("TXN_"+Date.now()),n()},3e3)},className:"p-6",children:["card"===o&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Card Number"}),e.jsx("input",{type:"text",value:u.cardNumber,onChange:e=>h({...u,cardNumber:b(e.target.value)}),className:"w-full bg-gray-700/50 border border-gray-600 rounded-lg px-4 py-3 text-white",placeholder:"1234 5678 9012 3456",maxLength:19,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Expiry Date"}),e.jsx("input",{type:"text",value:u.expiryDate,onChange:e=>h({...u,expiryDate:g(e.target.value)}),className:"w-full bg-gray-700/50 border border-gray-600 rounded-lg px-4 py-3 text-white",placeholder:"MM/YY",maxLength:5,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"CVV"}),e.jsx("input",{type:"text",value:u.cvv,onChange:e=>h({...u,cvv:e.target.value.replace(/\D/g,"")}),className:"w-full bg-gray-700/50 border border-gray-600 rounded-lg px-4 py-3 text-white",placeholder:"123",maxLength:4,required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Cardholder Name"}),e.jsx("input",{type:"text",value:u.cardName,onChange:e=>h({...u,cardName:e.target.value}),className:"w-full bg-gray-700/50 border border-gray-600 rounded-lg px-4 py-3 text-white",placeholder:"John Doe",required:!0})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u.saveCard,onChange:e=>h({...u,saveCard:e.target.checked}),className:"w-4 h-4 text-purple-600 bg-gray-700 border-gray-600 rounded focus:ring-purple-500"}),e.jsx("span",{className:"text-gray-300 text-sm",children:"Save card for future payments"})]})})]}),"paypal"===o&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"PP"})}),e.jsx("p",{className:"text-gray-300 mb-4",children:"You will be redirected to PayPal to complete your payment"})]}),"crypto"===o&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-orange-500 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"₿"})}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Pay with Bitcoin, Ethereum, or other cryptocurrencies"})]}),e.jsx("div",{className:"bg-green-900/20 border border-green-500/30 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(l,{className:"w-5 h-5 text-green-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-green-400 text-sm font-medium",children:"Secure Payment"}),e.jsx("p",{className:"text-gray-400 text-xs",children:"Your payment information is encrypted and secure"})]})]})}),e.jsx("button",{type:"submit",disabled:p,className:"w-full py-3 rounded-lg font-semibold transition-all "+(p?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white"),children:p?e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Processing..."})]}):"Pay $"+c.toFixed(2)})]}),e.jsx("div",{className:"p-6 border-t border-gray-700/50 text-center",children:e.jsxs("div",{className:"flex items-center justify-center space-x-4 text-gray-400 text-xs",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(s,{className:"w-3 h-3"}),e.jsx("span",{children:"SSL Encrypted"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(l,{className:"w-3 h-3"}),e.jsx("span",{children:"PCI Compliant"})]})]})})]})})]}):null};export{d as PaymentSystem};
