import{_ as t}from"./i18n-vendor-ClAPDSrk.js";import{b as n,R as i}from"./react-vendor-D92mXBJ3.js";function r(t,n){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t})(t,n)}function u(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,r(t,n)}var e=function(){function t(){this.listeners=[]}var n=t.prototype;return n.subscribe=function(t){var n=this,i=t||function(){};return this.listeners.push(i),this.onSubscribe(),function(){n.listeners=n.listeners.filter(function(t){return t!==i}),n.onUnsubscribe()}},n.hasListeners=function(){return this.listeners.length>0},n.onSubscribe=function(){},n.onUnsubscribe=function(){},t}(),o="undefined"==typeof window;function s(){}function h(t){return"number"==typeof t&&t>=0&&t!==1/0}function f(t){return Array.isArray(t)?t:[t]}function c(t,n){return Math.max(t+(n||0)-Date.now(),0)}function a(n,i,r){return C(n)?"function"==typeof i?t({},r,{queryKey:n,queryFn:i}):t({},i,{queryKey:n}):n}function l(n,i,r){return C(n)?[t({},i,{queryKey:n}),r]:[n||{},i]}function v(t,n){var i=t.active,r=t.exact,u=t.fetching,e=t.inactive,o=t.predicate,s=t.queryKey,h=t.stale;if(C(s))if(r){if(n.queryHash!==y(s,n.options))return!1}else if(!m(n.queryKey,s))return!1;var f=function(t,n){return!0===t&&!0===n||null==t&&null==n?"all":!1===t&&!1===n?"none":(null!=t?t:!n)?"active":"inactive"}(i,e);if("none"===f)return!1;if("all"!==f){var c=n.isActive();if("active"===f&&!c)return!1;if("inactive"===f&&c)return!1}return!("boolean"==typeof h&&n.isStale()!==h||"boolean"==typeof u&&n.isFetching()!==u||o&&!o(n))}function d(t,n){var i=t.exact,r=t.fetching,u=t.predicate,e=t.mutationKey;if(C(e)){if(!n.options.mutationKey)return!1;if(i){if(p(n.options.mutationKey)!==p(e))return!1}else if(!m(n.options.mutationKey,e))return!1}return!("boolean"==typeof r&&"loading"===n.state.status!==r||u&&!u(n))}function y(t,n){return((null==n?void 0:n.queryKeyHashFn)||p)(t)}function p(t){var n=f(t);return JSON.stringify(n,function(t,n){return P(n)?Object.keys(n).sort().reduce(function(t,i){return t[i]=n[i],t},{}):n})}function m(t,n){return w(f(t),f(n))}function w(t,n){return t===n||typeof t==typeof n&&!(!t||!n||"object"!=typeof t||"object"!=typeof n)&&!Object.keys(n).some(function(i){return!w(t[i],n[i])})}function b(t,n){if(t===n)return t;var i=Array.isArray(t)&&Array.isArray(n);if(i||P(t)&&P(n)){for(var r=i?t.length:Object.keys(t).length,u=i?n:Object.keys(n),e=u.length,o=i?[]:{},s=0,h=0;e>h;h++){var f=i?h:u[h];o[f]=b(t[f],n[f]),o[f]===t[f]&&s++}return r===e&&s===r?t:o}return n}function P(t){if(!g(t))return!1;var n=t.constructor;if(void 0===n)return!0;var i=n.prototype;return!!g(i)&&!!i.hasOwnProperty("isPrototypeOf")}function g(t){return"[object Object]"==={}.toString.call(t)}function C(t){return"string"==typeof t||Array.isArray(t)}function F(t){Promise.resolve().then(t).catch(function(t){return setTimeout(function(){throw t})})}function q(){if("function"==typeof AbortController)return new AbortController}var O=new(function(t){function n(){var n;return(n=t.call(this)||this).setup=function(t){var n;if(!o&&(null==(n=window)?void 0:n.addEventListener)){var i=function(){return t()};return window.addEventListener("visibilitychange",i,!1),window.addEventListener("focus",i,!1),function(){window.removeEventListener("visibilitychange",i),window.removeEventListener("focus",i)}}},n}u(n,t);var i=n.prototype;return i.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},i.onUnsubscribe=function(){var t;this.hasListeners()||(null==(t=this.cleanup)||t.call(this),this.cleanup=void 0)},i.setEventListener=function(t){var n,i=this;this.setup=t,null==(n=this.cleanup)||n.call(this),this.cleanup=t(function(t){"boolean"==typeof t?i.setFocused(t):i.onFocus()})},i.setFocused=function(t){this.focused=t,t&&this.onFocus()},i.onFocus=function(){this.listeners.forEach(function(t){t()})},i.isFocused=function(){return"boolean"==typeof this.focused?this.focused:"undefined"==typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)},n}(e)),j=new(function(t){function n(){var n;return(n=t.call(this)||this).setup=function(t){var n;if(!o&&(null==(n=window)?void 0:n.addEventListener)){var i=function(){return t()};return window.addEventListener("online",i,!1),window.addEventListener("offline",i,!1),function(){window.removeEventListener("online",i),window.removeEventListener("offline",i)}}},n}u(n,t);var i=n.prototype;return i.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},i.onUnsubscribe=function(){var t;this.hasListeners()||(null==(t=this.cleanup)||t.call(this),this.cleanup=void 0)},i.setEventListener=function(t){var n,i=this;this.setup=t,null==(n=this.cleanup)||n.call(this),this.cleanup=t(function(t){"boolean"==typeof t?i.setOnline(t):i.onOnline()})},i.setOnline=function(t){this.online=t,t&&this.onOnline()},i.onOnline=function(){this.listeners.forEach(function(t){t()})},i.isOnline=function(){return"boolean"==typeof this.online?this.online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine},n}(e));function A(t){return Math.min(1e3*Math.pow(2,t),3e4)}function U(t){return"function"==typeof(null==t?void 0:t.cancel)}var K=function(t){this.revert=null==t?void 0:t.revert,this.silent=null==t?void 0:t.silent};function S(t){return t instanceof K}var D=function(t){var n,i,r,u,e=this,o=!1;this.abort=t.abort,this.cancel=function(t){return null==n?void 0:n(t)},this.cancelRetry=function(){o=!0},this.continueRetry=function(){o=!1},this.continue=function(){return null==i?void 0:i()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(t,n){r=t,u=n});var s=function(n){e.isResolved||(e.isResolved=!0,null==t.onSuccess||t.onSuccess(n),null==i||i(),r(n))},h=function(n){e.isResolved||(e.isResolved=!0,null==t.onError||t.onError(n),null==i||i(),u(n))};!function r(){if(!e.isResolved){var u;try{u=t.fn()}catch(f){u=Promise.reject(f)}n=function(t){if(!e.isResolved&&(h(new K(t)),null==e.abort||e.abort(),U(u)))try{u.cancel()}catch(n){}},e.isTransportCancelable=U(u),Promise.resolve(u).then(s).catch(function(n){var u,s;if(!e.isResolved){var f,c=null!=(u=t.retry)?u:3,a=null!=(s=t.retryDelay)?s:A,l="function"==typeof a?a(e.failureCount,n):a,v=!0===c||"number"==typeof c&&e.failureCount<c||"function"==typeof c&&c(e.failureCount,n);!o&&v?(e.failureCount++,null==t.onFail||t.onFail(e.failureCount,n),(f=l,new Promise(function(t){setTimeout(t,f)})).then(function(){if(!O.isFocused()||!j.isOnline())return new Promise(function(n){i=n,e.isPaused=!0,null==t.onPause||t.onPause()}).then(function(){i=void 0,e.isPaused=!1,null==t.onContinue||t.onContinue()})}).then(function(){o?h(n):r()})):h(n)}})}}()},M=new(function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(t){t()},this.batchNotifyFn=function(t){t()}}var n=t.prototype;return n.batch=function(t){var n;this.transactions++;try{n=t()}finally{this.transactions--,this.transactions||this.flush()}return n},n.schedule=function(t){var n=this;this.transactions?this.queue.push(t):F(function(){n.notifyFn(t)})},n.batchCalls=function(t){var n=this;return function(){for(var i=arguments.length,r=Array(i),u=0;i>u;u++)r[u]=arguments[u];n.schedule(function(){t.apply(void 0,r)})}},n.flush=function(){var t=this,n=this.queue;this.queue=[],n.length&&F(function(){t.batchNotifyFn(function(){n.forEach(function(n){t.notifyFn(n)})})})},n.setNotifyFunction=function(t){this.notifyFn=t},n.setBatchNotifyFunction=function(t){this.batchNotifyFn=t},t}()),E=console;function I(){return E}var R=function(){function n(t){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=t.meta,this.scheduleGc()}var i=n.prototype;return i.setOptions=function(n){var i;this.options=t({},this.defaultOptions,n),this.meta=null==n?void 0:n.meta,this.cacheTime=Math.max(this.cacheTime||0,null!=(i=this.options.cacheTime)?i:3e5)},i.setDefaultOptions=function(t){this.defaultOptions=t},i.scheduleGc=function(){var t=this;this.clearGcTimeout(),h(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){t.optionalRemove()},this.cacheTime))},i.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},i.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},i.setData=function(t,n){var i,r,u=this.state.data,e=function(t,n){return"function"==typeof t?t(n):t}(t,u);return(null==(i=(r=this.options).isDataEqual)?void 0:i.call(r,u,e))?e=u:!1!==this.options.structuralSharing&&(e=b(u,e)),this.dispatch({data:e,type:"success",dataUpdatedAt:null==n?void 0:n.updatedAt}),e},i.setState=function(t,n){this.dispatch({type:"setState",state:t,setStateOptions:n})},i.cancel=function(t){var n,i=this.promise;return null==(n=this.retryer)||n.cancel(t),i?i.then(s).catch(s):Promise.resolve()},i.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},i.reset=function(){this.destroy(),this.setState(this.initialState)},i.isActive=function(){return this.observers.some(function(t){return!1!==t.options.enabled})},i.isFetching=function(){return this.state.isFetching},i.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(t){return t.getCurrentResult().isStale})},i.isStaleByTime=function(t){return void 0===t&&(t=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!c(this.state.dataUpdatedAt,t)},i.onFocus=function(){var t,n=this.observers.find(function(t){return t.shouldFetchOnWindowFocus()});n&&n.refetch(),null==(t=this.retryer)||t.continue()},i.onOnline=function(){var t,n=this.observers.find(function(t){return t.shouldFetchOnReconnect()});n&&n.refetch(),null==(t=this.retryer)||t.continue()},i.addObserver=function(t){-1===this.observers.indexOf(t)&&(this.observers.push(t),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))},i.removeObserver=function(t){-1!==this.observers.indexOf(t)&&(this.observers=this.observers.filter(function(n){return n!==t}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:t}))},i.getObserversCount=function(){return this.observers.length},i.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},i.fetch=function(t,n){var i,r,u,e=this;if(this.state.isFetching)if(this.state.dataUpdatedAt&&(null==n?void 0:n.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var o;return null==(o=this.retryer)||o.continueRetry(),this.promise}if(t&&this.setOptions(t),!this.options.queryFn){var s=this.observers.find(function(t){return t.options.queryFn});s&&this.setOptions(s.options)}var h=f(this.queryKey),c=q(),a={queryKey:h,pageParam:void 0,meta:this.meta};Object.defineProperty(a,"signal",{enumerable:!0,get:function(){if(c)return e.abortSignalConsumed=!0,c.signal}});var l,v,d={fetchOptions:n,options:this.options,queryKey:h,state:this.state,fetchFn:function(){return e.options.queryFn?(e.abortSignalConsumed=!1,e.options.queryFn(a)):Promise.reject("Missing queryFn")},meta:this.meta};return(null==(i=this.options.behavior)?void 0:i.onFetch)&&(null==(l=this.options.behavior)||l.onFetch(d)),this.revertState=this.state,this.state.isFetching&&this.state.fetchMeta===(null==(r=d.fetchOptions)?void 0:r.meta)||this.dispatch({type:"fetch",meta:null==(v=d.fetchOptions)?void 0:v.meta}),this.retryer=new D({fn:d.fetchFn,abort:null==c||null==(u=c.abort)?void 0:u.bind(c),onSuccess:function(t){e.setData(t),null==e.cache.config.onSuccess||e.cache.config.onSuccess(t,e),0===e.cacheTime&&e.optionalRemove()},onError:function(t){S(t)&&t.silent||e.dispatch({type:"error",error:t}),S(t)||(null==e.cache.config.onError||e.cache.config.onError(t,e),I().error(t)),0===e.cacheTime&&e.optionalRemove()},onFail:function(){e.dispatch({type:"failed"})},onPause:function(){e.dispatch({type:"pause"})},onContinue:function(){e.dispatch({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay}),this.promise=this.retryer.promise,this.promise},i.dispatch=function(t){var n=this;this.state=this.reducer(this.state,t),M.batch(function(){n.observers.forEach(function(n){n.onQueryUpdate(t)}),n.cache.notify({query:n,type:"queryUpdated",action:t})})},i.getDefaultState=function(t){var n="function"==typeof t.initialData?t.initialData():t.initialData,i=void 0!==t.initialData?"function"==typeof t.initialDataUpdatedAt?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0,r=void 0!==n;return{data:n,dataUpdateCount:0,dataUpdatedAt:r?null!=i?i:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:r?"success":"idle"}},i.reducer=function(n,i){var r,u;switch(i.type){case"failed":return t({},n,{fetchFailureCount:n.fetchFailureCount+1});case"pause":return t({},n,{isPaused:!0});case"continue":return t({},n,{isPaused:!1});case"fetch":return t({},n,{fetchFailureCount:0,fetchMeta:null!=(r=i.meta)?r:null,isFetching:!0,isPaused:!1},!n.dataUpdatedAt&&{error:null,status:"loading"});case"success":return t({},n,{data:i.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:null!=(u=i.dataUpdatedAt)?u:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var e=i.error;return S(e)&&e.revert&&this.revertState?t({},this.revertState):t({},n,{error:e,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return t({},n,{isInvalidated:!0});case"setState":return t({},n,i.state);default:return n}},n}(),x=function(t){function n(n){var i;return(i=t.call(this)||this).config=n||{},i.queries=[],i.queriesMap={},i}u(n,t);var i=n.prototype;return i.build=function(t,n,i){var r,u=n.queryKey,e=null!=(r=n.queryHash)?r:y(u,n),o=this.get(e);return o||(o=new R({cache:this,queryKey:u,queryHash:e,options:t.defaultQueryOptions(n),state:i,defaultOptions:t.getQueryDefaults(u),meta:n.meta}),this.add(o)),o},i.add=function(t){this.queriesMap[t.queryHash]||(this.queriesMap[t.queryHash]=t,this.queries.push(t),this.notify({type:"queryAdded",query:t}))},i.remove=function(t){var n=this.queriesMap[t.queryHash];n&&(t.destroy(),this.queries=this.queries.filter(function(n){return n!==t}),n===t&&delete this.queriesMap[t.queryHash],this.notify({type:"queryRemoved",query:t}))},i.clear=function(){var t=this;M.batch(function(){t.queries.forEach(function(n){t.remove(n)})})},i.get=function(t){return this.queriesMap[t]},i.getAll=function(){return this.queries},i.find=function(t,n){var i=l(t,n)[0];return void 0===i.exact&&(i.exact=!0),this.queries.find(function(t){return v(i,t)})},i.findAll=function(t,n){var i=l(t,n)[0];return Object.keys(i).length>0?this.queries.filter(function(t){return v(i,t)}):this.queries},i.notify=function(t){var n=this;M.batch(function(){n.listeners.forEach(function(n){n(t)})})},i.onFocus=function(){var t=this;M.batch(function(){t.queries.forEach(function(t){t.onFocus()})})},i.onOnline=function(){var t=this;M.batch(function(){t.queries.forEach(function(t){t.onOnline()})})},n}(e),T=function(){function n(n){this.options=t({},n.defaultOptions,n.options),this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.observers=[],this.state=n.state||{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0},this.meta=n.meta}var i=n.prototype;return i.setState=function(t){this.dispatch({type:"setState",state:t})},i.addObserver=function(t){-1===this.observers.indexOf(t)&&this.observers.push(t)},i.removeObserver=function(t){this.observers=this.observers.filter(function(n){return n!==t})},i.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(s).catch(s)):Promise.resolve()},i.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},i.execute=function(){var t,n=this,i="loading"===this.state.status,r=Promise.resolve();return i||(this.dispatch({type:"loading",variables:this.options.variables}),r=r.then(function(){null==n.mutationCache.config.onMutate||n.mutationCache.config.onMutate(n.state.variables,n)}).then(function(){return null==n.options.onMutate?void 0:n.options.onMutate(n.state.variables)}).then(function(t){t!==n.state.context&&n.dispatch({type:"loading",context:t,variables:n.state.variables})})),r.then(function(){return n.executeMutation()}).then(function(i){t=i,null==n.mutationCache.config.onSuccess||n.mutationCache.config.onSuccess(t,n.state.variables,n.state.context,n)}).then(function(){return null==n.options.onSuccess?void 0:n.options.onSuccess(t,n.state.variables,n.state.context)}).then(function(){return null==n.options.onSettled?void 0:n.options.onSettled(t,null,n.state.variables,n.state.context)}).then(function(){return n.dispatch({type:"success",data:t}),t}).catch(function(t){return null==n.mutationCache.config.onError||n.mutationCache.config.onError(t,n.state.variables,n.state.context,n),I().error(t),Promise.resolve().then(function(){return null==n.options.onError?void 0:n.options.onError(t,n.state.variables,n.state.context)}).then(function(){return null==n.options.onSettled?void 0:n.options.onSettled(void 0,t,n.state.variables,n.state.context)}).then(function(){throw n.dispatch({type:"error",error:t}),t})})},i.executeMutation=function(){var t,n=this;return this.retryer=new D({fn:function(){return n.options.mutationFn?n.options.mutationFn(n.state.variables):Promise.reject("No mutationFn found")},onFail:function(){n.dispatch({type:"failed"})},onPause:function(){n.dispatch({type:"pause"})},onContinue:function(){n.dispatch({type:"continue"})},retry:null!=(t=this.options.retry)?t:0,retryDelay:this.options.retryDelay}),this.retryer.promise},i.dispatch=function(n){var i=this;this.state=function(n,i){switch(i.type){case"failed":return t({},n,{failureCount:n.failureCount+1});case"pause":return t({},n,{isPaused:!0});case"continue":return t({},n,{isPaused:!1});case"loading":return t({},n,{context:i.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:i.variables});case"success":return t({},n,{data:i.data,error:null,status:"success",isPaused:!1});case"error":return t({},n,{data:void 0,error:i.error,failureCount:n.failureCount+1,isPaused:!1,status:"error"});case"setState":return t({},n,i.state);default:return n}}(this.state,n),M.batch(function(){i.observers.forEach(function(t){t.onMutationUpdate(n)}),i.mutationCache.notify(i)})},n}(),k=function(t){function n(n){var i;return(i=t.call(this)||this).config=n||{},i.mutations=[],i.mutationId=0,i}u(n,t);var i=n.prototype;return i.build=function(t,n,i){var r=new T({mutationCache:this,mutationId:++this.mutationId,options:t.defaultMutationOptions(n),state:i,defaultOptions:n.mutationKey?t.getMutationDefaults(n.mutationKey):void 0,meta:n.meta});return this.add(r),r},i.add=function(t){this.mutations.push(t),this.notify(t)},i.remove=function(t){this.mutations=this.mutations.filter(function(n){return n!==t}),t.cancel(),this.notify(t)},i.clear=function(){var t=this;M.batch(function(){t.mutations.forEach(function(n){t.remove(n)})})},i.getAll=function(){return this.mutations},i.find=function(t){return void 0===t.exact&&(t.exact=!0),this.mutations.find(function(n){return d(t,n)})},i.findAll=function(t){return this.mutations.filter(function(n){return d(t,n)})},i.notify=function(t){var n=this;M.batch(function(){n.listeners.forEach(function(n){n(t)})})},i.onFocus=function(){this.resumePausedMutations()},i.onOnline=function(){this.resumePausedMutations()},i.resumePausedMutations=function(){var t=this.mutations.filter(function(t){return t.state.isPaused});return M.batch(function(){return t.reduce(function(t,n){return t.then(function(){return n.continue().catch(s)})},Promise.resolve())})},n}(e);function L(t,n){return null==t.getNextPageParam?void 0:t.getNextPageParam(n[n.length-1],n)}var N=function(){function n(t){void 0===t&&(t={}),this.queryCache=t.queryCache||new x,this.mutationCache=t.mutationCache||new k,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var i=n.prototype;return i.mount=function(){var t=this;this.unsubscribeFocus=O.subscribe(function(){O.isFocused()&&j.isOnline()&&(t.mutationCache.onFocus(),t.queryCache.onFocus())}),this.unsubscribeOnline=j.subscribe(function(){O.isFocused()&&j.isOnline()&&(t.mutationCache.onOnline(),t.queryCache.onOnline())})},i.unmount=function(){var t,n;null==(t=this.unsubscribeFocus)||t.call(this),null==(n=this.unsubscribeOnline)||n.call(this)},i.isFetching=function(t,n){var i=l(t,n)[0];return i.fetching=!0,this.queryCache.findAll(i).length},i.isMutating=function(n){return this.mutationCache.findAll(t({},n,{fetching:!0})).length},i.getQueryData=function(t,n){var i;return null==(i=this.queryCache.find(t,n))?void 0:i.state.data},i.getQueriesData=function(t){return this.getQueryCache().findAll(t).map(function(t){return[t.queryKey,t.state.data]})},i.setQueryData=function(t,n,i){var r=a(t),u=this.defaultQueryOptions(r);return this.queryCache.build(this,u).setData(n,i)},i.setQueriesData=function(t,n,i){var r=this;return M.batch(function(){return r.getQueryCache().findAll(t).map(function(t){var u=t.queryKey;return[u,r.setQueryData(u,n,i)]})})},i.getQueryState=function(t,n){var i;return null==(i=this.queryCache.find(t,n))?void 0:i.state},i.removeQueries=function(t,n){var i=l(t,n)[0],r=this.queryCache;M.batch(function(){r.findAll(i).forEach(function(t){r.remove(t)})})},i.resetQueries=function(n,i,r){var u=this,e=l(n,i,r),o=e[0],s=e[1],h=this.queryCache,f=t({},o,{active:!0});return M.batch(function(){return h.findAll(o).forEach(function(t){t.reset()}),u.refetchQueries(f,s)})},i.cancelQueries=function(t,n,i){var r=this,u=l(t,n,i),e=u[0],o=u[1],h=void 0===o?{}:o;void 0===h.revert&&(h.revert=!0);var f=M.batch(function(){return r.queryCache.findAll(e).map(function(t){return t.cancel(h)})});return Promise.all(f).then(s).catch(s)},i.invalidateQueries=function(n,i,r){var u,e,o,s=this,h=l(n,i,r),f=h[0],c=h[1],a=t({},f,{active:null==(u=null!=(e=f.refetchActive)?e:f.active)||u,inactive:null!=(o=f.refetchInactive)&&o});return M.batch(function(){return s.queryCache.findAll(f).forEach(function(t){t.invalidate()}),s.refetchQueries(a,c)})},i.refetchQueries=function(n,i,r){var u=this,e=l(n,i,r),o=e[0],h=e[1],f=M.batch(function(){return u.queryCache.findAll(o).map(function(n){return n.fetch(void 0,t({},h,{meta:{refetchPage:null==o?void 0:o.refetchPage}}))})}),c=Promise.all(f).then(s);return(null==h?void 0:h.throwOnError)||(c=c.catch(s)),c},i.fetchQuery=function(t,n,i){var r=a(t,n,i),u=this.defaultQueryOptions(r);void 0===u.retry&&(u.retry=!1);var e=this.queryCache.build(this,u);return e.isStaleByTime(u.staleTime)?e.fetch(u):Promise.resolve(e.state.data)},i.prefetchQuery=function(t,n,i){return this.fetchQuery(t,n,i).then(s).catch(s)},i.fetchInfiniteQuery=function(t,n,i){var r=a(t,n,i);return r.behavior={onFetch:function(t){t.fetchFn=function(){var n,i,r,u,e,o,s,h,f,c=null==(n=t.fetchOptions)||null==(i=n.meta)?void 0:i.refetchPage,a=null==(r=t.fetchOptions)||null==(u=r.meta)?void 0:u.fetchMore,l=null==a?void 0:a.pageParam,v="forward"===(null==a?void 0:a.direction),d="backward"===(null==a?void 0:a.direction),y=(null==(e=t.state.data)?void 0:e.pages)||[],p=(null==(o=t.state.data)?void 0:o.pageParams)||[],m=q(),w=null==m?void 0:m.signal,b=p,P=!1,g=t.options.queryFn||function(){return Promise.reject("Missing queryFn")},C=function(t,n,i,r){return b=r?[n].concat(b):[].concat(b,[n]),r?[i].concat(t):[].concat(t,[i])},F=function(n,i,r,u){if(P)return Promise.reject("Cancelled");if(void 0===r&&!i&&n.length)return Promise.resolve(n);var e={queryKey:t.queryKey,signal:w,pageParam:r,meta:t.meta},o=g(e),s=Promise.resolve(o).then(function(t){return C(n,r,t,u)});return U(o)&&(s.cancel=o.cancel),s};if(y.length)if(v){var O=void 0!==l,j=O?l:L(t.options,y);s=F(y,O,j)}else if(d){var A=void 0!==l,K=A?l:(h=t.options,f=y,null==h.getPreviousPageParam?void 0:h.getPreviousPageParam(f[0],f));s=F(y,A,K,!0)}else!function(){b=[];var n=void 0===t.options.getNextPageParam,i=!c||!y[0]||c(y[0],0,y);s=i?F([],n,p[0]):Promise.resolve(C([],p[0],y[0]));for(var r=function(i){s=s.then(function(r){if(!c||!y[i]||c(y[i],i,y)){var u=n?p[i]:L(t.options,r);return F(r,n,u)}return Promise.resolve(C(r,p[i],y[i]))})},u=1;u<y.length;u++)r(u)}();else s=F([]);var S=s.then(function(t){return{pages:t,pageParams:b}});return S.cancel=function(){P=!0,null==m||m.abort(),U(s)&&s.cancel()},S}}},this.fetchQuery(r)},i.prefetchInfiniteQuery=function(t,n,i){return this.fetchInfiniteQuery(t,n,i).then(s).catch(s)},i.cancelMutations=function(){var t=this,n=M.batch(function(){return t.mutationCache.getAll().map(function(t){return t.cancel()})});return Promise.all(n).then(s).catch(s)},i.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},i.executeMutation=function(t){return this.mutationCache.build(this,t).execute()},i.getQueryCache=function(){return this.queryCache},i.getMutationCache=function(){return this.mutationCache},i.getDefaultOptions=function(){return this.defaultOptions},i.setDefaultOptions=function(t){this.defaultOptions=t},i.setQueryDefaults=function(t,n){var i=this.queryDefaults.find(function(n){return p(t)===p(n.queryKey)});i?i.defaultOptions=n:this.queryDefaults.push({queryKey:t,defaultOptions:n})},i.getQueryDefaults=function(t){var n;return t?null==(n=this.queryDefaults.find(function(n){return m(t,n.queryKey)}))?void 0:n.defaultOptions:void 0},i.setMutationDefaults=function(t,n){var i=this.mutationDefaults.find(function(n){return p(t)===p(n.mutationKey)});i?i.defaultOptions=n:this.mutationDefaults.push({mutationKey:t,defaultOptions:n})},i.getMutationDefaults=function(t){var n;return t?null==(n=this.mutationDefaults.find(function(n){return m(t,n.mutationKey)}))?void 0:n.defaultOptions:void 0},i.defaultQueryOptions=function(n){if(null==n?void 0:n.t)return n;var i=t({},this.defaultOptions.queries,this.getQueryDefaults(null==n?void 0:n.queryKey),n,{t:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=y(i.queryKey,i)),i},i.defaultQueryObserverOptions=function(t){return this.defaultQueryOptions(t)},i.defaultMutationOptions=function(n){return(null==n?void 0:n.t)?n:t({},this.defaultOptions.mutations,this.getMutationDefaults(null==n?void 0:n.mutationKey),n,{t:!0})},i.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},n}(),Q=function(n){function i(t,i){var r;return(r=n.call(this)||this).client=t,r.options=i,r.trackedProps=[],r.selectError=null,r.bindMethods(),r.setOptions(i),r}u(i,n);var r=i.prototype;return r.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},r.onSubscribe=function(){1===this.listeners.length&&(this.currentQuery.addObserver(this),_(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},r.onUnsubscribe=function(){this.listeners.length||this.destroy()},r.shouldFetchOnReconnect=function(){return H(this.currentQuery,this.options,this.options.refetchOnReconnect)},r.shouldFetchOnWindowFocus=function(){return H(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},r.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},r.setOptions=function(t,n){var i=this.options,r=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(t),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=i.queryKey),this.updateQuery();var u=this.hasListeners();u&&J(this.currentQuery,r,this.options,i)&&this.executeFetch(),this.updateResult(n),!u||this.currentQuery===r&&this.options.enabled===i.enabled&&this.options.staleTime===i.staleTime||this.updateStaleTimeout();var e=this.computeRefetchInterval();!u||this.currentQuery===r&&this.options.enabled===i.enabled&&e===this.currentRefetchInterval||this.updateRefetchInterval(e)},r.getOptimisticResult=function(t){var n=this.client.defaultQueryObserverOptions(t),i=this.client.getQueryCache().build(this.client,n);return this.createResult(i,n)},r.getCurrentResult=function(){return this.currentResult},r.trackResult=function(t,n){var i=this,r={},u=function(t){i.trackedProps.includes(t)||i.trackedProps.push(t)};return Object.keys(t).forEach(function(n){Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:function(){return u(n),t[n]}})}),(n.useErrorBoundary||n.suspense)&&u("error"),r},r.getNextResult=function(t){var n=this;return new Promise(function(i,r){var u=n.subscribe(function(n){n.isFetching||(u(),n.isError&&(null==t?void 0:t.throwOnError)?r(n.error):i(n))})})},r.getCurrentQuery=function(){return this.currentQuery},r.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},r.refetch=function(n){return this.fetch(t({},n,{meta:{refetchPage:null==n?void 0:n.refetchPage}}))},r.fetchOptimistic=function(t){var n=this,i=this.client.defaultQueryObserverOptions(t),r=this.client.getQueryCache().build(this.client,i);return r.fetch().then(function(){return n.createResult(r,i)})},r.fetch=function(t){var n=this;return this.executeFetch(t).then(function(){return n.updateResult(),n.currentResult})},r.executeFetch=function(t){this.updateQuery();var n=this.currentQuery.fetch(this.options,t);return(null==t?void 0:t.throwOnError)||(n=n.catch(s)),n},r.updateStaleTimeout=function(){var t=this;if(this.clearStaleTimeout(),!o&&!this.currentResult.isStale&&h(this.options.staleTime)){var n=c(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(function(){t.currentResult.isStale||t.updateResult()},n)}},r.computeRefetchInterval=function(){var t;return"function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(t=this.options.refetchInterval)&&t},r.updateRefetchInterval=function(t){var n=this;this.clearRefetchInterval(),this.currentRefetchInterval=t,!o&&!1!==this.options.enabled&&h(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval(function(){(n.options.refetchIntervalInBackground||O.isFocused())&&n.executeFetch()},this.currentRefetchInterval))},r.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},r.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},r.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},r.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},r.createResult=function(t,n){var i,r=this.currentQuery,u=this.options,e=this.currentResult,o=this.currentResultState,s=this.currentResultOptions,h=t!==r,f=h?t.state:this.currentQueryInitialState,c=h?this.currentResult:this.previousQueryResult,a=t.state,l=a.dataUpdatedAt,v=a.error,d=a.errorUpdatedAt,y=a.isFetching,p=a.status,m=!1,w=!1;if(n.optimisticResults){var P=this.hasListeners(),g=!P&&_(t,n),C=P&&J(t,r,n,u);(g||C)&&(y=!0,l||(p="loading"))}if(n.keepPreviousData&&!a.dataUpdateCount&&(null==c?void 0:c.isSuccess)&&"error"!==p)i=c.data,l=c.dataUpdatedAt,p=c.status,m=!0;else if(n.select&&void 0!==a.data)if(e&&a.data===(null==o?void 0:o.data)&&n.select===this.selectFn)i=this.selectResult;else try{this.selectFn=n.select,i=n.select(a.data),!1!==n.structuralSharing&&(i=b(null==e?void 0:e.data,i)),this.selectResult=i,this.selectError=null}catch(q){I().error(q),this.selectError=q}else i=a.data;if(void 0!==n.placeholderData&&void 0===i&&("loading"===p||"idle"===p)){var F;if((null==e?void 0:e.isPlaceholderData)&&n.placeholderData===(null==s?void 0:s.placeholderData))F=e.data;else if(F="function"==typeof n.placeholderData?n.placeholderData():n.placeholderData,n.select&&void 0!==F)try{F=n.select(F),!1!==n.structuralSharing&&(F=b(null==e?void 0:e.data,F)),this.selectError=null}catch(q){I().error(q),this.selectError=q}void 0!==F&&(p="success",i=F,w=!0)}return this.selectError&&(v=this.selectError,i=this.selectResult,d=Date.now(),p="error"),{status:p,isLoading:"loading"===p,isSuccess:"success"===p,isError:"error"===p,isIdle:"idle"===p,data:i,dataUpdatedAt:l,error:v,errorUpdatedAt:d,failureCount:a.fetchFailureCount,errorUpdateCount:a.errorUpdateCount,isFetched:a.dataUpdateCount>0||a.errorUpdateCount>0,isFetchedAfterMount:a.dataUpdateCount>f.dataUpdateCount||a.errorUpdateCount>f.errorUpdateCount,isFetching:y,isRefetching:y&&"loading"!==p,isLoadingError:"error"===p&&0===a.dataUpdatedAt,isPlaceholderData:w,isPreviousData:m,isRefetchError:"error"===p&&0!==a.dataUpdatedAt,isStale:z(t,n),refetch:this.refetch,remove:this.remove}},r.shouldNotifyListeners=function(t,n){if(!n)return!0;var i=this.options,r=i.notifyOnChangeProps,u=i.notifyOnChangePropsExclusions;if(!r&&!u)return!0;if("tracked"===r&&!this.trackedProps.length)return!0;var e="tracked"===r?this.trackedProps:r;return Object.keys(t).some(function(i){var r=i,o=t[r]!==n[r],s=null==e?void 0:e.some(function(t){return t===i}),h=null==u?void 0:u.some(function(t){return t===i});return o&&!h&&(!e||s)})},r.updateResult=function(n){var i=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!function(t,n){if(t&&!n||n&&!t)return!1;for(var i in t)if(t[i]!==n[i])return!1;return!0}(this.currentResult,i)){var r={cache:!0};!1!==(null==n?void 0:n.listeners)&&this.shouldNotifyListeners(this.currentResult,i)&&(r.listeners=!0),this.notify(t({},r,n))}},r.updateQuery=function(){var t=this.client.getQueryCache().build(this.client,this.options);if(t!==this.currentQuery){var n=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==n||n.removeObserver(this),t.addObserver(this))}},r.onQueryUpdate=function(t){var n={};"success"===t.type?n.onSuccess=!0:"error"!==t.type||S(t.error)||(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()},r.notify=function(t){var n=this;M.batch(function(){t.onSuccess?(null==n.options.onSuccess||n.options.onSuccess(n.currentResult.data),null==n.options.onSettled||n.options.onSettled(n.currentResult.data,null)):t.onError&&(null==n.options.onError||n.options.onError(n.currentResult.error),null==n.options.onSettled||n.options.onSettled(void 0,n.currentResult.error)),t.listeners&&n.listeners.forEach(function(t){t(n.currentResult)}),t.cache&&n.client.getQueryCache().notify({query:n.currentQuery,type:"observerResultsUpdated"})})},i}(e);function _(t,n){return function(t,n){return!(!1===n.enabled||t.state.dataUpdatedAt||"error"===t.state.status&&!1===n.retryOnMount)}(t,n)||t.state.dataUpdatedAt>0&&H(t,n,n.refetchOnMount)}function H(t,n,i){if(!1!==n.enabled){var r="function"==typeof i?i(t):i;return"always"===r||!1!==r&&z(t,n)}return!1}function J(t,n,i,r){return!1!==i.enabled&&(t!==n||!1===r.enabled)&&(!i.suspense||"error"!==t.state.status)&&z(t,i)}function z(t,n){return t.isStaleByTime(n.staleTime)}var B=function(n){function i(t,i){var r;return(r=n.call(this)||this).client=t,r.setOptions(i),r.bindMethods(),r.updateResult(),r}u(i,n);var r=i.prototype;return r.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},r.setOptions=function(t){this.options=this.client.defaultMutationOptions(t)},r.onUnsubscribe=function(){var t;this.listeners.length||null==(t=this.currentMutation)||t.removeObserver(this)},r.onMutationUpdate=function(t){this.updateResult();var n={listeners:!0};"success"===t.type?n.onSuccess=!0:"error"===t.type&&(n.onError=!0),this.notify(n)},r.getCurrentResult=function(){return this.currentResult},r.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},r.mutate=function(n,i){return this.mutateOptions=i,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,t({},this.options,{variables:void 0!==n?n:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},r.updateResult=function(){var n=this.currentMutation?this.currentMutation.state:{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0},i=t({},n,{isLoading:"loading"===n.status,isSuccess:"success"===n.status,isError:"error"===n.status,isIdle:"idle"===n.status,mutate:this.mutate,reset:this.reset});this.currentResult=i},r.notify=function(t){var n=this;M.batch(function(){n.mutateOptions&&(t.onSuccess?(null==n.mutateOptions.onSuccess||n.mutateOptions.onSuccess(n.currentResult.data,n.currentResult.variables,n.currentResult.context),null==n.mutateOptions.onSettled||n.mutateOptions.onSettled(n.currentResult.data,null,n.currentResult.variables,n.currentResult.context)):t.onError&&(null==n.mutateOptions.onError||n.mutateOptions.onError(n.currentResult.error,n.currentResult.variables,n.currentResult.context),null==n.mutateOptions.onSettled||n.mutateOptions.onSettled(void 0,n.currentResult.error,n.currentResult.variables,n.currentResult.context))),t.listeners&&n.listeners.forEach(function(t){t(n.currentResult)})})},i}(e),G=n.unstable_batchedUpdates;M.setBatchNotifyFunction(G),E=console;var V=i.createContext(void 0),W=i.createContext(!1);function X(t){return t&&"undefined"!=typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=V),window.ReactQueryClientContext):V}var Y,Z=function(){var t=i.useContext(X(i.useContext(W)));if(!t)throw Error("No QueryClient set, use QueryClientProvider to set one");return t},$=function(t){var n=t.client,r=t.contextSharing,u=void 0!==r&&r,e=t.children;i.useEffect(function(){return n.mount(),function(){n.unmount()}},[n]);var o=X(u);return i.createElement(W.Provider,{value:u},i.createElement(o.Provider,{value:n},e))},tt=i.createContext((Y=!1,{clearReset:function(){Y=!1},reset:function(){Y=!0},isReset:function(){return Y}}));function nt(t,n,i){return"function"==typeof n?n.apply(void 0,i):"boolean"==typeof n?n:!!t}function it(n,r,u){var e=i.useRef(!1),o=i.useState(0)[1],h=function(n,i,r){return C(n)?"function"==typeof i?t({},r,{mutationKey:n,mutationFn:i}):t({},i,{mutationKey:n}):"function"==typeof n?t({},i,{mutationFn:n}):t({},n)}(n,r,u),f=Z(),c=i.useRef();c.current?c.current.setOptions(h):c.current=new B(f,h);var a=c.current.getCurrentResult();i.useEffect(function(){e.current=!0;var t=c.current.subscribe(M.batchCalls(function(){e.current&&o(function(t){return t+1})}));return function(){e.current=!1,t()}},[]);var l=i.useCallback(function(t,n){c.current.mutate(t,n).catch(s)},[]);if(a.error&&nt(void 0,c.current.options.useErrorBoundary,[a.error]))throw a.error;return t({},a,{mutate:l,mutateAsync:a.mutate})}function rt(t,n,r){return function(t,n){var r=i.useRef(!1),u=i.useState(0)[1],e=Z(),o=i.useContext(tt),s=e.defaultQueryObserverOptions(t);s.optimisticResults=!0,s.onError&&(s.onError=M.batchCalls(s.onError)),s.onSuccess&&(s.onSuccess=M.batchCalls(s.onSuccess)),s.onSettled&&(s.onSettled=M.batchCalls(s.onSettled)),s.suspense&&("number"!=typeof s.staleTime&&(s.staleTime=1e3),0===s.cacheTime&&(s.cacheTime=1)),(s.suspense||s.useErrorBoundary)&&(o.isReset()||(s.retryOnMount=!1));var h=i.useState(function(){return new n(e,s)})[0],f=h.getOptimisticResult(s);if(i.useEffect(function(){r.current=!0,o.clearReset();var t=h.subscribe(M.batchCalls(function(){r.current&&u(function(t){return t+1})}));return h.updateResult(),function(){r.current=!1,t()}},[o,h]),i.useEffect(function(){h.setOptions(s,{listeners:!1})},[s,h]),s.suspense&&f.isLoading)throw h.fetchOptimistic(s).then(function(t){var n=t.data;null==s.onSuccess||s.onSuccess(n),null==s.onSettled||s.onSettled(n,null)}).catch(function(t){o.clearReset(),null==s.onError||s.onError(t),null==s.onSettled||s.onSettled(void 0,t)});if(f.isError&&!o.isReset()&&!f.isFetching&&nt(s.suspense,s.useErrorBoundary,[f.error,h.getCurrentQuery()]))throw f.error;return"tracked"===s.notifyOnChangeProps&&(f=h.trackResult(f,s)),f}(a(t,n,r),Q)}export{N as Q,$ as a,rt as b,it as c,Z as u};
